#!/usr/bin/env python

import os
import subprocess

testfiles = 0

# walk pwd tree, looking for "tests" directories
for root, dirs, files in os.walk("."):
    if root[-6:] != "/tests":
        continue
    print("nt> Found directory {}".format(root))
    for f in files:
        if f[-2:] != ".t":
            continue
        print("nt>    {}".format(f))
        testfiles = testfiles + 1
        results = subprocess.getstatusoutput("/usr/bin/env python {}".format(os.path.join(root,f)))
        print(results)
